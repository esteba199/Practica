<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="lading.css">
    <script src="sever.json"></script>
    <title>Zona Gamer - Tienda de Videojuegos</title>
</head>
<body>
    <!-- Bot√≥n flotante de compra -->
    <button class="floating-buy">üõí Comprar ahora</button>
    
    <!-- Encabezado -->
    <header>
        <div class="logo">
            <img src="logo.jpg" alt="Zona Gamer Logo">
        </div>
        <nav>
            <ul>
                <li><a href="#tendencias">Tendencias</a></li>
                <li><a href="#accion">Acci√≥n</a></li>
                <li><a href="#aventura">Aventura</a></li>
                <li><a href="#rpg">RPG</a></li>
                <li><a href="#estrategia">Estrategia</a></li>
                <li><a href="#simulacion">Simulaci√≥n</a></li>
            </ul>
        </nav>
        <button id="logout-btn" class="logout-button" style="display: none;">Cerrar Sesi√≥n</button>
    </header>

    <!-- Secci√≥n de introducci√≥n -->
    <section class="intro" style="display: none;">
        <div class="intro-overlay">
            <h1>Bienvenido a la Zona Gamer</h1>
            <p>Descubre los juegos m√°s √©picos con nuestra galer√≠a interactiva. Explora diferentes categor√≠as y sum√©rgete en la mejor experiencia gamer.</p>
        </div>
    </section>

    <!-- Secci√≥n de juegos en tendencia -->
    <section id="tendencias" class="container" style="display: none;">
        <h2>Juegos en Tendencia</h2>
        <div class="trends-gallery">
            <!-- Juego 1 -->
            <div class="trend-card" data-name="Cyber Battle 2077" data-price="59.99" data-url="https://www.cyberpunk.net">
                <img src="gaming.png" alt="Cyber Battle 2077">
                <div class="trend-content">
                    <h3>Cyber Battle 2077</h3>
                    <p class="price">Precio: $59.99</p>
                    <p>El shooter m√°s futurista del a√±o.</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 2 -->
            <div class="trend-card" data-name="Fantasy Realms" data-price="49.99" data-url="https://store.steampowered.com/app/123456/Fantasy_Realms/">
                <img src="gta6.jpg" alt="Fantasy Realms">
                <div class="trend-content">
                    <h3>Fantasy Realms</h3>
                    <p class="price">Precio: $49.99</p>
                    <p>Explora un mundo m√°gico sin l√≠mites.</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 3 -->
            <div class="trend-card" data-name="Forza Horizon 5" data-price="59.99" data-url="https://www.xbox.com/en-US/games/forza-horizon-5">
                <img src="sdsda.jpg" alt="Forza Horizon 5">
                <div class="trend-content">
                    <h3>Forza Horizon 5</h3>
                    <p class="price">Precio: $59.99</p>
                    <p>Compite en carreras de alta velocidad.</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 4 -->
            <div class="trend-card" data-name="Terroro" data-price="39.99" data-url="https://www.horrorstore.com/terroro">
                <img src="Terror.jpg" alt="Terroro">
                <div class="trend-content">
                    <h3>Terroro</h3>
                    <p class="price">Precio: $39.99</p>
                    <p>Un survival horror que pondr√° a prueba tu valent√≠a.</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 5 -->
            <div class="trend-card" data-name="Legends of Eldoria" data-price="54.99" data-url="https://store.steampowered.com/app/654321/Legends_of_Eldoria/">
                <img src="QL80_.jpg" alt="Legends of Eldoria">
                <div class="trend-content">
                    <h3>Legends of Eldoria</h3>
                    <p class="price">Precio: $54.99</p>
                    <p>Una √©pica aventura RPG con batallas estrat√©gicas.</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
        </div>
    </section>
      
    <!-- Secci√≥n de juegos de acci√≥n -->
    <section id="accion" class="container">
        <h2>Juegos de Acci√≥n</h2>
        <div class="game-gallery">
            <!-- Juego 1 -->
            <div class="card" data-name="Dragones 5" data-price="39.99" data-url="https://store.steampowered.com/app/123456/Dragones_5/">
                <img src="warrior-7631678_1280.jpg" alt="Dragones 5">
                <div class="card-content">
                    <h3 class="title">Dragones 5</h3>
                    <p class="price">Precio: $39.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 2 -->
            <div class="card" data-name="Soldaditos PS5" data-price="49.99" data-url="https://www.playstation.com/es-mx/games/soldaditos-ps5/">
                <img src="soldier-7569040_1280.jpg" alt="Soldaditos PS5">
                <div class="card-content">
                    <h3 class="title">Soldaditos PS5</h3>
                    <p class="price">Precio: $49.99</p> 
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 3 -->
            <div class="card" data-name="Shadow Ninja" data-price="44.99" data-url="https://store.epicgames.com/shadowninja">
                <img src="NinjaReborn.jpg" alt="Shadow Ninja">
                <div class="card-content">
                    <h3 class="title">Shadow Ninja</h3>
                    <p class="price">Precio: $44.99</p> 
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 4 -->
            <div class="card" data-name="Mecha Wars" data-price="59.99" data-url="https://www.xbox.com/en-US/games/mecha-wars">
                <img src="maxresdefault.jpg" alt="Mecha Wars">
                <div class="card-content">
                    <h3 class="title">Mecha Wars</h3>
                    <p class="price">Precio: $59.99</p> 
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 5 -->
            <div class="card" data-name="Horde Zombie Outbreak" data-price="34.99" data-url="https://store.steampowered.com/app/987654/Horde_Zombie_Outbreak/">
                <img src="capsule_616x353.jpg" alt="Zombie Outbreak">
                <div class="card-content">
                    <h3 class="title">Horde Zombie Outbreak</h3>
                    <p class="price">Precio: $34.99</p> 
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
        </div>
    </section>
       
    <!-- Secci√≥n de juegos de aventura -->
    <section id="aventura" class="container">
        <h2>Juegos de Aventura</h2>
        <div class="game-gallery">
            <!-- Juego 1 -->
            <div class="card" data-name="GTA 6" data-price="59.99" data-url="https://www.rockstargames.com/gta6">
                <img src="gta6.jpg" alt="GTA 6">
                <div class="card-content">
                    <h3 class="title">GTA 6</h3>
                    <p class="price">Precio: $59.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 2 -->
            <div class="card" data-name="Elden Ring" data-price="49.99" data-url="https://store.steampowered.com/app/1245620/ELDEN_RING/">
                <img src="elden.jpg" alt="Elden Ring">
                <div class="card-content">
                    <h3 class="title">Elden Ring</h3>
                    <p class="price">Precio: $49.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 3 -->
            <div class="card" data-name="The Legend of Zelda: Breath of the Wild" data-price="59.99" data-url="https://www.nintendo.com/es_LA/store/products/the-legend-of-zelda-breath-of-the-wild-switch/">
                <img src="BOTW.jpg" alt="The Legend of Zelda: Breath of the Wild">
                <div class="card-content">
                    <h3 class="title">The Legend of Zelda: Breath of the Wild</h3>
                    <p class="price">Precio: $59.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 4 -->
            <div class="card" data-name="Red Dead Redemption 2" data-price="39.99" data-url="https://www.rockstargames.com/reddeadredemption2">
                <img src="RDR2.jpg" alt="Red Dead Redemption 2">
                <div class="card-content">
                    <h3 class="title">Red Dead Redemption 2</h3>
                    <p class="price">Precio: $39.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 5 -->
            <div class="card" data-name="Uncharted 4: A Thief's End" data-price="54.99" data-url="https://www.playstation.com/es-mx/games/uncharted-4-a-thiefs-end/">
                <img src="cover.jpg" alt="Uncharted 4: A Thief's End">
                <div class="card-content">
                    <h3 class="title">Uncharted 4: A Thief's End</h3>
                    <p class="price">Precio: $54.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
        </div>
    </section>
   
    <!-- Secci√≥n de juegos RPG -->
    <section id="rpg" class="container">
        <h2>Juegos RPG</h2>
        <div class="game-gallery">
            <!-- Juego 1 -->
            <div class="card" data-name="Final Fantasy XVI" data-price="59.99" data-url="https://www.playstation.com/es-mx/games/final-fantasy-xvi/">
                <img src="descarga.jpg" alt="Final Fantasy XVI">
                <div class="card-content">
                    <h3 class="title">Final Fantasy XVI</h3>
                    <p class="price">Precio: $59.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 2 -->
            <div class="card" data-name="The Witcher 3" data-price="49.99" data-url="https://store.steampowered.com/app/292030/The_Witcher_3_Wild_Hunt/">
                <img src="gaming.png" alt="The Witcher 3">
                <div class="card-content">
                    <h3 class="title">The Witcher 3: Wild Hunt</h3>
                    <p class="price">Precio: $49.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 3 -->
            <div class="card" data-name="The Elder Scrolls V: Skyrim" data-price="39.99" data-url="https://store.steampowered.com/app/489830/The_Elder_Scrolls_V_Skyrim_Special_Edition/">
                <img src="steameurope.jpg" alt="The Elder Scrolls V: Skyrim">
                <div class="card-content">
                    <h3 class="title">The Elder Scrolls V: Skyrim</h3>
                    <p class="price">Precio: $39.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 4 -->
            <div class="card" data-name="Persona 5 Royal" data-price="44.99" data-url="https://store.steampowered.com/app/1687950/Persona_5_Royal/">
                <img src="dd-18.jpg" alt="Persona 5 Royal">
                <div class="card-content">
                    <h3 class="title">Persona 5 Royal</h3>
                    <p class="price">Precio: $44.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 5 -->
            <div class="card" data-name="Dark Souls III" data-price="34.99" data-url="https://store.steampowered.com/app/374320/DARK_SOULS_III/">
                <img src="dark.avif" alt="Dark Souls III">
                <div class="card-content">
                    <h3 class="title">Dark Souls III</h3>
                    <p class="price">Precio: $34.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Secci√≥n de juegos de estrategia -->
    <section id="estrategia" class="container">
        <h2>Juegos de Estrategia</h2>
        <div class="game-gallery">
            <!-- Juego 1 -->
            <div class="card" data-name="Age of Empires IV" data-price="59.99" data-url="https://www.xbox.com/es-ES/games/age-of-empires-iv">
                <img src="SG.jpg" alt="Age of Empires IV">
                <div class="card-content">
                    <h3 class="title">Age of Empires IV</h3>
                    <p class="price">Precio: $59.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 2 -->
            <div class="card" data-name="Civilization VI" data-price="49.99" data-url="https://store.steampowered.com/app/289070/Sid_Meiers_Civilization_VI/">
                <img src="big.png" alt="Civilization VI">
                <div class="card-content">
                    <h3 class="title">Civilization VI</h3>
                    <p class="price">Precio: $49.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 3 -->
            <div class="card" data-name="Total War: Warhammer III" data-price="59.99" data-url="https://store.steampowered.com/app/1142710/Total_War_WARHAMMER_III/">
                <img src="header.jpg" alt="Total War: Warhammer III">
                <div class="card-content">
                    <h3 class="title">Total War: Warhammer III</h3>
                    <p class="price">Precio: $59.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 4 -->
            <div class="card" data-name="StarCraft II" data-price="39.99" data-url="https://starcraft2.com/">
                <img src="starcraft.jpg" alt="StarCraft II">
                <div class="card-content">
                    <h3 class="title">StarCraft II</h3>
                    <p class="price">Precio: $39.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 5 -->
            <div class="card" data-name="XCOM 2" data-price="34.99" data-url="https://store.steampowered.com/app/268500/XCOM_2/">
                <img src="Xzv6.webp" alt="XCOM 2">
                <div class="card-content">
                    <h3 class="title">XCOM 2</h3>
                    <p class="price">Precio: $34.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Secci√≥n de juegos de simulaci√≥n -->
    <section id="simulacion" class="container">
        <h2>Juegos de Simulaci√≥n</h2>
        <div class="game-gallery">
            <!-- Juego 1 -->
            <div class="card" data-name="The Sims 4" data-price="49.99" data-url="https://www.ea.com/games/the-sims/the-sims-4">
                <img src="images.jpg" alt="The Sims 4">
                <div class="card-content">
                    <h3 class="title">The Sims 4</h3>
                    <p class="price">Precio: $49.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 2 -->
            <div class="card" data-name="Flight Simulator" data-price="59.99" data-url="https://www.flightsimulator.com/">
                <img src="party%20crashers%20balloons%20vr%20game.jpeg" alt="Flight Simulator">
                <div class="card-content">
                    <h3 class="title">Flight Simulator</h3>
                    <p class="price">Precio: $59.99</p> 
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 3 -->
            <div class="card" data-name="Farming Simulator 22" data-price="39.99" data-url="https://www.farming-simulator.com/">
                <img src="apps.63069.jpg" alt="Farming Simulator 22">
                <div class="card-content">
                    <h3 class="title">Farming Simulator 22</h3>
                    <p class="price">Precio: $39.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 4 -->
            <div class="card" data-name="Euro Truck Simulator 2" data-price="34.99" data-url="https://eurotrucksimulator2.com/">
                <img src="euro-truck.jpg" alt="Euro Truck Simulator 2">
                <div class="card-content">
                    <h3 class="title">Euro Truck Simulator 2</h3>
                    <p class="price">Precio: $34.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
            
            <!-- Juego 5 -->
            <div class="card" data-name="Planet Coaster" data-price="44.99" data-url="https://www.planetcoaster.com/">
                <img src="planetcoaster.jpg" alt="Planet Coaster">
                <div class="card-content">
                    <h3 class="title">Planet Coaster</h3>
                    <p class="price">Precio: $44.99</p>
                    <button class="add-to-cart">A√±adir al carrito</button>
                </div>
            </div>
        </div>
    </section>    
    
    <!-- Secci√≥n de descripci√≥n -->
    <section class="description">
        <div class="description-container">
            <h2>¬øQu√© es <span class="highlight">Zona Gamer</span>?</h2>
            <p>
                üéÆ Bienvenido a <strong>Zona Gamer</strong>, tu espacio definitivo para descubrir, explorar y sumergirte en el mundo de los videojuegos. 
                Desde t√≠tulos llenos de acci√≥n hasta los simuladores m√°s realistas, tenemos una amplia selecci√≥n para todos los gustos. 
            </p>
            <div class="separator"></div> 
    
            <h3>üåç Convenios Exclusivos</h3>
            <p>
                Colaboramos con las principales <strong>desarrolladoras de videojuegos</strong> y plataformas del sector, 
                asegurando que siempre tengas acceso a las √∫ltimas novedades, promociones y contenido exclusivo. 
            </p>
        </div>
    </section>

    <!-- Modal del carrito de compras -->
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Carrito de Compras</h2>
            <ul id="cart-items"></ul>
            <p>Total: <span id="cart-total">$0.00</span></p>
            <button id="checkout">Finalizar Compra</button>
        </div>
    </div>

    <!-- Pantalla de pago -->
    <div id="checkout-screen" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Confirmar Compra</h2>
            <p>Revisa los detalles de tu compra antes de proceder al pago.</p>
            <ul id="checkout-items"></ul>
            <p>Total a pagar: <span id="checkout-total">$0.00</span></p>
            <button id="pay">Pagar</button>
            <button id="cancel-checkout">Cancelar</button>
            <button id="logout">Cerrar sesi√≥n</button>
        </div>
    </div>

    <script>
        // Datos de categor√≠as y appids de Steam
        const categorias = {
            "Acci√≥n": [1551360, 550], // Forza Horizon 5, Left 4 Dead 2
            "Aventura": [1245620, 1174180], // Elden Ring, Red Dead Redemption 2
            "RPG": [292030, 489830, 374320], // The Witcher 3, Skyrim, Dark Souls III
            "Estrategia": [1466860, 289070, 268500], // Age of Empires IV, Civilization VI, XCOM 2
            "Simulaci√≥n": [1250410, 227300, 493340] // Flight Simulator, Euro Truck Simulator 2, Planet Coaster
        };

        // Mostrar bot√≥n de logout si est√° en la galer√≠a (simulado)
        if (localStorage.getItem("registered") === "true") {
            document.getElementById("logout-btn").style.display = "block";
        }

        // Logout
        document.getElementById("logout-btn").addEventListener("click", function() {
            localStorage.removeItem("registered");
            alert("Has cerrado sesi√≥n correctamente.");
            window.location.href = "registro.html";
        });

        // Funci√≥n para obtener datos del juego desde la API de Steam
        async function obtenerDatosJuego(appid) {
            try {
                const response = await fetch(`https://store.steampowered.com/api/appdetails?appids=${appid}&cc=es&l=spanish`);
                const data = await response.json();
                return data[appid].data;
            } catch (error) {
                console.error("Error al obtener datos del juego:", error);
                return null;
            }
        }

        // Funci√≥n para cargar juegos por categor√≠a
        async function cargarJuegos(categoria) {
            const juegosContainer = document.getElementById("juegos-container");
            juegosContainer.innerHTML = "<p>Cargando juegos...</p>";

            const appids = categorias[categoria];
            const juegosPromises = appids.map(appid => obtenerDatosJuego(appid));
            
            try {
                const juegos = await Promise.all(juegosPromises);
                
                juegosContainer.innerHTML = "";
                
                juegos.forEach(juego => {
                    if (juego) {
                        const precio = juego.price_overview ? juego.price_overview.final / 100 : 0;
                        const descripcion = juego.short_description ? juego.short_description.substring(0, 150) + "..." : "Descripci√≥n no disponible";
                        
                        const juegoElement = document.createElement("form");
                        juegoElement.className = "juego";
                        juegoElement.method = "POST";
                        juegoElement.action = "#";
                        juegoElement.innerHTML = `
                            <img src="${juego.header_image}" alt="${juego.name}">
                            <h3>${juego.name}</h3>
                            <p>${descripcion}</p>
                            <p><strong>Precio:</strong> ${precio == 0 ? 'Gratis' : precio.toFixed(2) + ' ‚Ç¨'}</p>
                            <input type="hidden" name="nombre" value="${juego.name}">
                            <input type="hidden" name="precio" value="${precio}">
                            <input type="hidden" name="imagen" value="${juego.header_image}">
                            <button type="submit">Comprar</button>
                        `;
                        
                        juegoElement.addEventListener("submit", function(e) {
                            e.preventDefault();
                            alert(`Has comprado ${juego.name} por ${precio == 0 ? 'Gratis' : precio.toFixed(2) + ' ‚Ç¨'}`);
                        });
                        
                        juegosContainer.appendChild(juegoElement);
                    }
                });
            } catch (error) {
                console.error("Error al cargar juegos:", error);
                juegosContainer.innerHTML = "<p>Error al cargar los juegos. Int√©ntalo de nuevo m√°s tarde.</p>";
            }
        }

        // Redirigir al usuario al enlace del juego al hacer clic en la tarjeta
        document.querySelectorAll(".card").forEach(card => {
            card.addEventListener("click", function (event) {
                if (!event.target.classList.contains("add-to-cart")) {
                    const url = this.getAttribute("data-url");
                    if (url) {
                        window.open(url, "_blank");
                    }
                }
            });
        });

        // Variables del carrito
        let cart = [];

        // Verificar si el usuario ya est√° registrado
        if (localStorage.getItem("registered") === "true") {
            showContent();
        }

        // Mostrar contenido despu√©s del registro
        function showContent() {
            document.querySelectorAll("#tendencias, #accion, #aventura, #rpg, #estrategia, #simulacion, .intro").forEach(section => {
                section.style.display = "block";
            });
            document.querySelector(".floating-buy").style.display = "block";
        }

        // A√±adir juegos al carrito
        document.querySelectorAll(".add-to-cart").forEach(button => {
            button.addEventListener("click", function (e) {
                e.stopPropagation();
                const gameCard = this.closest(".card, .trend-card");
                const gameName = gameCard.getAttribute("data-name");
                const gamePrice = parseFloat(gameCard.getAttribute("data-price"));

                if (!gamePrice) {
                    alert("Error: Este juego no tiene un precio asignado.");
                    return;
                }

                cart.push({ name: gameName, price: gamePrice });
                updateCart();
                alert(`${gameName} ha sido a√±adido al carrito.`);
            });
        });

        // Actualizar el carrito
        function updateCart() {
            const cartItemsList = document.getElementById("cart-items");
            const cartTotal = document.getElementById("cart-total");
            
            cartItemsList.innerHTML = "";
            let total = 0;

            cart.forEach(item => {
                const li = document.createElement("li");
                li.textContent = `${item.name} - $${item.price.toFixed(2)}`;
                cartItemsList.appendChild(li);
                total += item.price;
            });

            cartTotal.textContent = `$${total.toFixed(2)}`;
        }

        // Abrir el modal del carrito
        document.querySelector(".floating-buy").addEventListener("click", function () {
            document.getElementById("cart-modal").style.display = "block";
        });

        // Cerrar el modal del carrito
        document.querySelector(".close").addEventListener("click", function () {
            document.getElementById("cart-modal").style.display = "none";
        });

        // Finalizar compra y mostrar la pantalla de pago
        document.getElementById("checkout").addEventListener("click", function () {
            if (cart.length > 0) {
                const checkoutItemsList = document.getElementById("checkout-items");
                const checkoutTotal = document.getElementById("checkout-total");
                
                checkoutItemsList.innerHTML = "";
                let total = 0;

                cart.forEach(item => {
                    const li = document.createElement("li");
                    li.textContent = `${item.name} - $${item.price.toFixed(2)}`;
                    checkoutItemsList.appendChild(li);
                    total += item.price;
                });

                checkoutTotal.textContent = `$${total.toFixed(2)}`;

                document.getElementById("cart-modal").style.display = "none";
                document.getElementById("checkout-screen").style.display = "block";
            } else {
                alert("El carrito est√° vac√≠o. A√±ade juegos para continuar.");
            }
        });

        // Confirmar pago
        document.getElementById("pay").addEventListener("click", function () {
            alert("¬°Pago realizado con √©xito! Gracias por tu compra.");
            cart = [];
            updateCart();
            document.getElementById("checkout-screen").style.display = "none";
        });

        // Cancelar y volver a la tienda
        document.getElementById("cancel-checkout").addEventListener("click", function () {
            document.getElementById("checkout-screen").style.display = "none";
            document.getElementById("cart-modal").style.display = "block";
        });

        // Cerrar sesi√≥n y volver al registro
        document.getElementById("logout").addEventListener("click", function () {
            localStorage.removeItem("registered");
            location.reload();
        });

        // Cargar la primera categor√≠a por defecto
        document.addEventListener("DOMContentLoaded", function() {
            cargarJuegos("Acci√≥n");
        });
    </script>
</body>
</html>